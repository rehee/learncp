# ç¨‹åºè®¾è®¡æ–‡æ¡£ (Program Design Document - PDD)

---

## I. ğŸ“– é¡¹ç›®æ¦‚è¿° (Project Overview)

### 1.1 é¡¹ç›®åç§°ä¸ç‰ˆæœ¬

| å±æ€§ | æè¿° |
|------|------|
| **é¡¹ç›®åç§°** | LearnCP |
| **ç‰ˆæœ¬** | 1.0.0 |
| **åˆ›å»ºæ—¥æœŸ** | 2024 |
| **æ–‡æ¡£ç‰ˆæœ¬** | 1.0 |

### 1.2 ç›®æ ‡ä¸èŒƒå›´ (Goal & Scope)

LearnCP æ˜¯ä¸€ä¸ªç«èµ›ç¼–ç¨‹å­¦ä¹ å¹³å°ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å’Œå­¦ç”Ÿæå‡ç®—æ³•ä¸æ•°æ®ç»“æ„èƒ½åŠ›ï¼Œä¸ºæŠ€æœ¯é¢è¯•å’Œç¼–ç¨‹ç«èµ›åšå‡†å¤‡ã€‚

**æ ¸å¿ƒä»·å€¼**: æä¾›ç»“æ„åŒ–çš„å­¦ä¹ è·¯å¾„å’Œå®è·µç¯å¢ƒï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿç³»ç»Ÿåœ°æŒæ¡ç«èµ›ç¼–ç¨‹æ‰€éœ€çš„æ ¸å¿ƒæŠ€èƒ½ã€‚

### 1.3 æœ¯è¯­è¡¨ (Glossary)

| æœ¯è¯­ | å®šä¹‰ |
|------|------|
| **CP (Competitive Programming)** | ç«èµ›ç¼–ç¨‹ï¼Œä¸€ç§é€šè¿‡è§£å†³ç®—æ³•é—®é¢˜æ¥ç«äº‰çš„ç¼–ç¨‹å½¢å¼ |
| **Algorithm** | ç®—æ³•ï¼Œè§£å†³ç‰¹å®šé—®é¢˜çš„ä¸€ç³»åˆ—æœ‰åºæ­¥éª¤ |
| **Data Structure** | æ•°æ®ç»“æ„ï¼Œç»„ç»‡å’Œå­˜å‚¨æ•°æ®çš„ç‰¹å®šæ–¹å¼ |
| **Time Complexity** | æ—¶é—´å¤æ‚åº¦ï¼Œç®—æ³•æ‰§è¡Œæ‰€éœ€æ—¶é—´ä¸è¾“å…¥è§„æ¨¡çš„å…³ç³» |
| **Space Complexity** | ç©ºé—´å¤æ‚åº¦ï¼Œç®—æ³•æ‰§è¡Œæ‰€éœ€å†…å­˜ä¸è¾“å…¥è§„æ¨¡çš„å…³ç³» |
| **AC (Accepted)** | é¢˜ç›®é€šè¿‡ï¼Œæäº¤çš„è§£å†³æ–¹æ¡ˆæ­£ç¡® |
| **WA (Wrong Answer)** | ç­”æ¡ˆé”™è¯¯ï¼Œæäº¤çš„è§£å†³æ–¹æ¡ˆè¾“å‡ºä¸æ­£ç¡® |
| **TLE (Time Limit Exceeded)** | è¶…æ—¶ï¼Œç®—æ³•æ‰§è¡Œæ—¶é—´è¶…è¿‡é™åˆ¶ |
| **MLE (Memory Limit Exceeded)** | å†…å­˜è¶…é™ï¼Œç®—æ³•ä½¿ç”¨å†…å­˜è¶…è¿‡é™åˆ¶ |

---

## II. ğŸ“‹ è½¯ä»¶éœ€æ±‚ (Requirements)

### 2.1 åŠŸèƒ½æ€§éœ€æ±‚ (Functional Requirements)

#### User Stories/Use Cases (ç”¨æˆ·æ•…äº‹/ç”¨ä¾‹)

| ID | ç”¨æˆ·æ•…äº‹ | ä¼˜å…ˆçº§ |
|----|----------|--------|
| US-001 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **æµè§ˆç®—æ³•é¢˜ç›®åˆ—è¡¨**, ä»¥ä¾¿ **é€‰æ‹©é€‚åˆæˆ‘æ°´å¹³çš„é¢˜ç›®ç»ƒä¹ ** | é«˜ |
| US-002 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **æäº¤ä»£ç è§£å†³æ–¹æ¡ˆ**, ä»¥ä¾¿ **éªŒè¯æˆ‘çš„ç®—æ³•æ˜¯å¦æ­£ç¡®** | é«˜ |
| US-003 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **æŸ¥çœ‹é¢˜ç›®çš„è¯¦ç»†è§£ç­”**, ä»¥ä¾¿ **å­¦ä¹ æœ€ä¼˜è§£æ³•** | ä¸­ |
| US-004 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **è·Ÿè¸ªå­¦ä¹ è¿›åº¦**, ä»¥ä¾¿ **äº†è§£æˆ‘çš„æˆé•¿è½¨è¿¹** | ä¸­ |
| US-005 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **æŒ‰éš¾åº¦ç­›é€‰é¢˜ç›®**, ä»¥ä¾¿ **å¾ªåºæ¸è¿›åœ°å­¦ä¹ ** | ä¸­ |
| US-006 | ä½œä¸º **å­¦ä¹ è€…**, æˆ‘æƒ³è¦ **å‚åŠ æ¨¡æ‹Ÿç«èµ›**, ä»¥ä¾¿ **æå‡å®æˆ˜èƒ½åŠ›** | ä½ |
| US-007 | ä½œä¸º **ç®¡ç†å‘˜**, æˆ‘æƒ³è¦ **æ·»åŠ å’Œç®¡ç†é¢˜ç›®**, ä»¥ä¾¿ **ä¸°å¯Œå¹³å°å†…å®¹** | é«˜ |

#### API æ¥å£æ¸…å• (é«˜å±‚)

| æ¨¡å— | ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|------|
| ç”¨æˆ·ç®¡ç† | `/api/users` | GET/POST | è·å–/åˆ›å»ºç”¨æˆ· |
| ç”¨æˆ·ç®¡ç† | `/api/users/{id}` | GET/PUT/DELETE | ç”¨æˆ·CRUDæ“ä½œ |
| é¢˜ç›®ç®¡ç† | `/api/problems` | GET/POST | è·å–/åˆ›å»ºé¢˜ç›® |
| é¢˜ç›®ç®¡ç† | `/api/problems/{id}` | GET/PUT/DELETE | é¢˜ç›®CRUDæ“ä½œ |
| æäº¤ç®¡ç† | `/api/submissions` | GET/POST | è·å–/åˆ›å»ºæäº¤ |
| æäº¤ç®¡ç† | `/api/submissions/{id}` | GET | è·å–æäº¤è¯¦æƒ… |
| è¿›åº¦è¿½è¸ª | `/api/progress` | GET | è·å–å­¦ä¹ è¿›åº¦ |
| ç«èµ›ç®¡ç† | `/api/contests` | GET/POST | è·å–/åˆ›å»ºç«èµ› |

### 2.2 éåŠŸèƒ½æ€§éœ€æ±‚ (Non-Functional Requirements)

#### æ€§èƒ½ (Performance)

| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| API å“åº”æ—¶é—´ | < 200ms (P95) |
| é¡µé¢åŠ è½½æ—¶é—´ | < 3s |
| ä»£ç è¯„åˆ¤å»¶è¿Ÿ | < 10s |
| å¹¶å‘ç”¨æˆ·æ”¯æŒ | 1000+ |
| ååé‡ | 100 requests/second |

#### å®‰å…¨ (Security)

| æ–¹é¢ | è¦æ±‚ |
|------|------|
| èº«ä»½éªŒè¯ | JWT Token è®¤è¯ |
| æˆæƒæœºåˆ¶ | åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) |
| æ•°æ®åŠ å¯† | HTTPS/TLS 1.3 ä¼ è¾“åŠ å¯† |
| å¯†ç å­˜å‚¨ | bcrypt å“ˆå¸ŒåŠ ç› |
| ä»£ç æ²™ç®± | éš”ç¦»æ‰§è¡Œç¯å¢ƒï¼Œé˜²æ­¢æ¶æ„ä»£ç  |

#### å¯ç”¨æ€§ (Availability) ä¸å¯æ‰©å±•æ€§ (Scalability)

| æ–¹é¢ | ç›®æ ‡ |
|------|------|
| æœåŠ¡å¯ç”¨æ€§ | 99.9% SLA |
| æ•°æ®å¤‡ä»½ | æ¯æ—¥å¢é‡å¤‡ä»½ï¼Œæ¯å‘¨å…¨é‡å¤‡ä»½ |
| æ°´å¹³æ‰©å±• | æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²å’Œè´Ÿè½½å‡è¡¡ |
| å‚ç›´æ‰©å±• | æ•°æ®åº“è¯»å†™åˆ†ç¦»æ”¯æŒ |

---

## III. âš–ï¸ ä¸šåŠ¡è§„åˆ™ä¸é™åˆ¶ (Business Rules & Constraints)

### 3.1 æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

#### é¢˜ç›®éš¾åº¦åˆ†çº§è§„åˆ™

```
è§„åˆ™ BR-001: é¢˜ç›®éš¾åº¦åˆ†çº§
æ¡ä»¶: é¢˜ç›®åˆ›å»ºæˆ–æ›´æ–°æ—¶
é€»è¾‘:
  - å¦‚æœ é€šè¿‡ç‡ > 80%ï¼Œåˆ™ éš¾åº¦ = "ç®€å•"
  - å¦‚æœ é€šè¿‡ç‡ åœ¨ 50%-80% ä¹‹é—´ï¼Œåˆ™ éš¾åº¦ = "ä¸­ç­‰"
  - å¦‚æœ é€šè¿‡ç‡ åœ¨ 20%-50% ä¹‹é—´ï¼Œåˆ™ éš¾åº¦ = "å›°éš¾"
  - å¦‚æœ é€šè¿‡ç‡ < 20%ï¼Œåˆ™ éš¾åº¦ = "ä¸“å®¶"
```

#### ä»£ç è¯„åˆ¤è§„åˆ™

```
è§„åˆ™ BR-002: ä»£ç è¯„åˆ¤æµç¨‹
æ¡ä»¶: ç”¨æˆ·æäº¤ä»£ç 
é€»è¾‘:
  1. å¦‚æœ ä»£ç é•¿åº¦ > æœ€å¤§é™åˆ¶(100KB)ï¼Œåˆ™ è¿”å› "ä»£ç è¿‡é•¿"
  2. å¦‚æœ ç¼–è¯‘å¤±è´¥ï¼Œåˆ™ è¿”å› "ç¼–è¯‘é”™è¯¯ (CE)"
  3. å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹:
     - å¦‚æœ æ‰§è¡Œæ—¶é—´ > æ—¶é—´é™åˆ¶ï¼Œåˆ™ è¿”å› "è¶…æ—¶ (TLE)"
     - å¦‚æœ å†…å­˜ä½¿ç”¨ > å†…å­˜é™åˆ¶ï¼Œåˆ™ è¿”å› "å†…å­˜è¶…é™ (MLE)"
     - å¦‚æœ è¾“å‡º != é¢„æœŸè¾“å‡ºï¼Œåˆ™ è¿”å› "ç­”æ¡ˆé”™è¯¯ (WA)"
  4. å¦‚æœ æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼Œåˆ™ è¿”å› "é€šè¿‡ (AC)"
```

#### ç§¯åˆ†è®¡ç®—è§„åˆ™

```
è§„åˆ™ BR-003: ç§¯åˆ†è®¡ç®—
æ¡ä»¶: ç”¨æˆ·é¦–æ¬¡é€šè¿‡é¢˜ç›®
é€»è¾‘:
  - ç®€å•é¢˜ç›®: +10 ç§¯åˆ†
  - ä¸­ç­‰é¢˜ç›®: +20 ç§¯åˆ†
  - å›°éš¾é¢˜ç›®: +40 ç§¯åˆ†
  - ä¸“å®¶é¢˜ç›®: +80 ç§¯åˆ†
  - å¦‚æœ æ˜¯é¦–æ¬¡ä¸€æ¬¡é€šè¿‡(æ— é”™è¯¯æäº¤)ï¼Œåˆ™ é¢å¤– +5 ç§¯åˆ†
```

### 3.2 é™åˆ¶æ¡ä»¶

| é™åˆ¶ç±»å‹ | æè¿° | é™åˆ¶å€¼ |
|----------|------|--------|
| æäº¤é¢‘ç‡ | åŒä¸€ç”¨æˆ·å¯¹åŒä¸€é¢˜ç›®çš„æäº¤é—´éš” | â‰¥ 30 ç§’ |
| ä»£ç é•¿åº¦ | å•æ¬¡æäº¤ä»£ç æœ€å¤§é•¿åº¦ | 100 KB |
| æ‰§è¡Œæ—¶é—´ | é»˜è®¤ä»£ç æ‰§è¡Œæ—¶é—´é™åˆ¶ | 2 ç§’ |
| å†…å­˜é™åˆ¶ | é»˜è®¤å†…å­˜ä½¿ç”¨é™åˆ¶ | 256 MB |
| å¹¶å‘è¯„åˆ¤ | å•ç”¨æˆ·åŒæ—¶è¯„åˆ¤ä»»åŠ¡æ•° | â‰¤ 3 |
| API é€Ÿç‡ | æ¯åˆ†é’Ÿ API è°ƒç”¨æ¬¡æ•° | â‰¤ 60 æ¬¡/åˆ†é’Ÿ |

---

## IV. ğŸ›ï¸ ç³»ç»Ÿè®¾è®¡ä¸æ¶æ„ (System Design & Architecture)

### 4.1 æ¶æ„è“å›¾ (Architecture Blueprint)

é‡‡ç”¨ **å¾®æœåŠ¡æ¶æ„** è®¾è®¡ï¼Œä»¥æ”¯æŒé«˜å¯ç”¨æ€§å’Œç‹¬ç«‹æ‰©å±•ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®¢æˆ·ç«¯å±‚ (Client Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Web App    â”‚  â”‚  Mobile App  â”‚  â”‚   CLI Tool   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     API ç½‘å…³å±‚ (API Gateway)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è´Ÿè½½å‡è¡¡ â”‚ è®¤è¯æˆæƒ â”‚ é€Ÿç‡é™åˆ¶ â”‚ è¯·æ±‚è·¯ç”± â”‚ æ—¥å¿—è®°å½•    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœåŠ¡å±‚ (Service Layer)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç”¨æˆ·æœåŠ¡   â”‚ â”‚ é¢˜ç›®æœåŠ¡   â”‚ â”‚ è¯„åˆ¤æœåŠ¡   â”‚ â”‚ ç«èµ›æœåŠ¡   â”‚   â”‚
â”‚  â”‚ User       â”‚ â”‚ Problem    â”‚ â”‚ Judge      â”‚ â”‚ Contest    â”‚   â”‚
â”‚  â”‚ Service    â”‚ â”‚ Service    â”‚ â”‚ Service    â”‚ â”‚ Service    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚ (Data Layer)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PostgreSQL â”‚ â”‚   Redis    â”‚ â”‚   MinIO    â”‚ â”‚ ElasticSea â”‚   â”‚
â”‚  â”‚ (ä¸»æ•°æ®åº“) â”‚ â”‚  (ç¼“å­˜)    â”‚ â”‚ (æ–‡ä»¶å­˜å‚¨) â”‚ â”‚ rch(æœç´¢)  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æŠ€æœ¯æ ˆ (Technology Stack)

#### åç«¯ (Backend)

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬ |
|------|----------|------|
| ç¼–ç¨‹è¯­è¨€ | Python | 3.11+ |
| Web æ¡†æ¶ | FastAPI | 0.100+ |
| ORM | SQLAlchemy | 2.0+ |
| æ•°æ®åº“ | PostgreSQL | 15+ |
| ç¼“å­˜ | Redis | 7.0+ |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ | 3.12+ |
| å®¹å™¨åŒ– | Docker | 24.0+ |
| ç¼–æ’ | Kubernetes | 1.28+ |

#### å‰ç«¯ (Frontend)

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬ |
|------|----------|------|
| æ¡†æ¶ | React | 18+ |
| çŠ¶æ€ç®¡ç† | Redux Toolkit | 1.9+ |
| UI ç»„ä»¶åº“ | Ant Design | 5.0+ |
| æ„å»ºå·¥å…· | Vite | 4.0+ |
| è¯­è¨€ | TypeScript | 5.0+ |
| ä»£ç ç¼–è¾‘å™¨ | Monaco Editor | 0.40+ |

#### DevOps

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| CI/CD | GitHub Actions |
| ç›‘æ§ | Prometheus + Grafana |
| æ—¥å¿— | ELK Stack |
| ä»£ç è´¨é‡ | SonarQube |

### 4.3 æ¨¡å—èŒè´£

#### ç”¨æˆ·æœåŠ¡ (User Service)

| å±æ€§ | æè¿° |
|------|------|
| **èŒè´£** | ç®¡ç†ç”¨æˆ·è´¦æˆ·ã€è®¤è¯ã€æˆæƒå’Œä¸ªäººèµ„æ–™ |
| **è¾“å…¥** | ç”¨æˆ·æ³¨å†Œ/ç™»å½•è¯·æ±‚ã€ä¸ªäººèµ„æ–™æ›´æ–° |
| **è¾“å‡º** | JWT Tokenã€ç”¨æˆ·ä¿¡æ¯ã€æƒé™åˆ—è¡¨ |
| **ä¾èµ–** | PostgreSQLã€Redis |

#### é¢˜ç›®æœåŠ¡ (Problem Service)

| å±æ€§ | æè¿° |
|------|------|
| **èŒè´£** | ç®¡ç†é¢˜ç›®å†…å®¹ã€æµ‹è¯•ç”¨ä¾‹å’Œæ ‡ç­¾åˆ†ç±» |
| **è¾“å…¥** | é¢˜ç›®åˆ›å»º/æŸ¥è¯¢è¯·æ±‚ã€ç­›é€‰æ¡ä»¶ |
| **è¾“å‡º** | é¢˜ç›®åˆ—è¡¨ã€é¢˜ç›®è¯¦æƒ…ã€æµ‹è¯•ç”¨ä¾‹ |
| **ä¾èµ–** | PostgreSQLã€ElasticSearchã€MinIO |

#### è¯„åˆ¤æœåŠ¡ (Judge Service)

| å±æ€§ | æè¿° |
|------|------|
| **èŒè´£** | ç¼–è¯‘è¿è¡Œç”¨æˆ·ä»£ç ï¼Œæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹è¯„åˆ¤ |
| **è¾“å…¥** | æäº¤çš„ä»£ç ã€ç¼–ç¨‹è¯­è¨€ã€é¢˜ç›®ID |
| **è¾“å‡º** | è¯„åˆ¤ç»“æœã€æ‰§è¡Œæ—¶é—´ã€å†…å­˜ä½¿ç”¨ |
| **ä¾èµ–** | RabbitMQã€Docker (æ²™ç®±)ã€Redis |

#### ç«èµ›æœåŠ¡ (Contest Service)

| å±æ€§ | æè¿° |
|------|------|
| **èŒè´£** | ç®¡ç†ç«èµ›æ´»åŠ¨ã€æ’è¡Œæ¦œå’Œæˆç»©ç»Ÿè®¡ |
| **è¾“å…¥** | ç«èµ›åˆ›å»ºè¯·æ±‚ã€å‚èµ›æŠ¥åã€ç­”é¢˜æäº¤ |
| **è¾“å‡º** | ç«èµ›åˆ—è¡¨ã€æ’è¡Œæ¦œã€ç»Ÿè®¡æ•°æ® |
| **ä¾èµ–** | PostgreSQLã€Redisã€è¯„åˆ¤æœåŠ¡ |

---

## V. ğŸ“ ç¼–ç æ ‡å‡†ä¸é£æ ¼ (Coding Standards & Style)

### 5.1 è¯­è¨€è§„èŒƒ

#### å‘½åçº¦å®š

| ç±»å‹ | çº¦å®š | ç¤ºä¾‹ |
|------|------|------|
| ç±»å | PascalCase | `UserService`, `ProblemController` |
| å‡½æ•°å | snake_case (Python) / camelCase (JS/TS) | `get_user_by_id`, `getUserById` |
| å˜é‡å | snake_case (Python) / camelCase (JS/TS) | `user_count`, `userCount` |
| å¸¸é‡å | SCREAMING_SNAKE_CASE | `MAX_RETRY_COUNT`, `DEFAULT_TIMEOUT` |
| æ–‡ä»¶å | snake_case (Python) / kebab-case (JS/TS) | `user_service.py`, `user-service.ts` |
| æ•°æ®åº“è¡¨å | snake_case (å¤æ•°) | `users`, `problem_tags` |
| API è·¯å¾„ | kebab-case | `/api/user-profiles`, `/api/problem-tags` |

#### æ–‡ä»¶ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/              # API è·¯ç”±å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ v1/           # API ç‰ˆæœ¬
â”‚   â”‚   â”‚   â””â”€â”€ deps.py       # ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py     # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ security.py   # å®‰å…¨ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ models/           # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/          # Pydantic æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ repositories/     # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ alembic/              # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ store/            # Redux Store
â”‚   â”‚   â”œâ”€â”€ services/         # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
```

### 5.2 ä¾èµ–ç®¡ç†

#### Python (åç«¯)

```bash
# æ·»åŠ æ–°ä¾èµ–
poetry add <package-name>

# æ·»åŠ å¼€å‘ä¾èµ–
poetry add --dev <package-name>

# æ›´æ–°ä¾èµ–
poetry update <package-name>

# é”å®šä¾èµ–ç‰ˆæœ¬
poetry lock
```

#### JavaScript/TypeScript (å‰ç«¯)

```bash
# æ·»åŠ æ–°ä¾èµ–
npm install <package-name>

# æ·»åŠ å¼€å‘ä¾èµ–
npm install --save-dev <package-name>

# æ›´æ–°ä¾èµ–
npm update <package-name>

# æ£€æŸ¥è¿‡æ—¶ä¾èµ–
npm outdated
```

### 5.3 é”™è¯¯å¤„ç†æ¨¡å¼

#### æ ‡å‡†é”™è¯¯å“åº”æ ¼å¼

```json
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥",
  "details": [
    {
      "field": "email",
      "error": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
    }
  ],
  "timestamp": "2024-01-01T12:00:00Z",
  "request_id": "req_abc123"
}
```

#### HTTP çŠ¶æ€ç ä½¿ç”¨è§„èŒƒ

| çŠ¶æ€ç  | ä½¿ç”¨åœºæ™¯ |
|--------|----------|
| 200 | è¯·æ±‚æˆåŠŸ |
| 201 | èµ„æºåˆ›å»ºæˆåŠŸ |
| 204 | åˆ é™¤æˆåŠŸï¼ˆæ— è¿”å›å†…å®¹ï¼‰ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªè®¤è¯ |
| 403 | æƒé™ä¸è¶³ |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 409 | èµ„æºå†²çª |
| 422 | ä¸šåŠ¡é€»è¾‘é”™è¯¯ |
| 429 | è¯·æ±‚é¢‘ç‡è¿‡é«˜ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

#### å¼‚å¸¸å¤„ç†ç¤ºä¾‹ (Python)

```python
from fastapi import HTTPException
from typing import Any

class AppException(HTTPException):
    """åº”ç”¨è‡ªå®šä¹‰å¼‚å¸¸åŸºç±»"""
    def __init__(
        self,
        status_code: int,
        message: str,
        details: Any = None
    ):
        super().__init__(status_code=status_code, detail={
            "code": status_code,
            "message": message,
            "details": details
        })

class ValidationError(AppException):
    """éªŒè¯é”™è¯¯"""
    def __init__(self, message: str, details: Any = None):
        super().__init__(400, message, details)

class NotFoundError(AppException):
    """èµ„æºä¸å­˜åœ¨"""
    def __init__(self, resource: str):
        super().__init__(404, f"{resource} ä¸å­˜åœ¨")

class UnauthorizedError(AppException):
    """æœªæˆæƒ"""
    def __init__(self):
        super().__init__(401, "è¯·å…ˆç™»å½•")
```

---

## VI. ğŸ–¼ï¸ UML ä¸è®¾è®¡æ¨¡å¼ (UML & Patterns)

### 6.1 å…³é”®å®ä½“å…³ç³» (ERD/Class Diagram)

#### æ ¸å¿ƒå®ä½“å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User       â”‚       â”‚     Problem     â”‚       â”‚    Submission   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: UUID        â”‚       â”‚ id: UUID        â”‚       â”‚ id: UUID        â”‚
â”‚ username: str   â”‚       â”‚ title: str      â”‚       â”‚ user_id: FK     â”‚
â”‚ email: str      â”‚       â”‚ description: txtâ”‚       â”‚ problem_id: FK  â”‚
â”‚ password_hash   â”‚       â”‚ difficulty: enumâ”‚       â”‚ code: text      â”‚
â”‚ role: enum      â”‚       â”‚ time_limit: int â”‚       â”‚ language: enum  â”‚
â”‚ score: int      â”‚       â”‚ memory_limit:intâ”‚       â”‚ status: enum    â”‚
â”‚ created_at: dt  â”‚       â”‚ created_at: dt  â”‚       â”‚ exec_time: int  â”‚
â”‚ updated_at: dt  â”‚       â”‚ updated_at: dt  â”‚       â”‚ memory_used: intâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ created_at: dt  â”‚
         â”‚                         â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚                         â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
         â”‚    â”‚                                    â”‚         â”‚
         â–¼    â–¼                                    â–¼         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚         â”‚
â”‚   UserProgress  â”‚       â”‚   ProblemTag    â”‚     â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚         â”‚
â”‚ id: UUID        â”‚       â”‚ id: UUID        â”‚     â”‚         â”‚
â”‚ user_id: FK     â”‚       â”‚ problem_id: FK  â”‚     â”‚         â”‚
â”‚ problem_id: FK  â”‚       â”‚ tag_id: FK      â”‚     â”‚         â”‚
â”‚ status: enum    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚         â”‚
â”‚ attempts: int   â”‚                â”‚              â”‚         â”‚
â”‚ first_ac_at: dt â”‚                â–¼              â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚         â”‚
                          â”‚      Tag        â”‚     â”‚         â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚         â”‚
                          â”‚ id: UUID        â”‚     â”‚         â”‚
                          â”‚ name: str       â”‚     â”‚         â”‚
                          â”‚ category: str   â”‚     â”‚         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚         â”‚
                                                  â”‚         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚         â”‚
â”‚    Contest      â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ContestProblem   â”‚â—„â”€â”€â”€â”€â”˜         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚ id: UUID        â”‚       â”‚ id: UUID        â”‚               â”‚
â”‚ title: str      â”‚       â”‚ contest_id: FK  â”‚               â”‚
â”‚ description: txtâ”‚       â”‚ problem_id: FK  â”‚               â”‚
â”‚ start_time: dt  â”‚       â”‚ order: int      â”‚               â”‚
â”‚ end_time: dt    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚ status: enum    â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
         â”‚                                                  â”‚
         â–¼                                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚ContestParticipantâ”‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                         â”‚
â”‚ id: UUID        â”‚                                         â”‚
â”‚ contest_id: FK  â”‚                                         â”‚
â”‚ user_id: FK     â”‚                                         â”‚
â”‚ score: int      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ rank: int       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ ¸å¿ƒç±»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           <<interface>>            â”‚
â”‚           IRepository<T>           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + get_by_id(id: UUID): T           â”‚
â”‚ + get_all(): List[T]               â”‚
â”‚ + create(entity: T): T             â”‚
â”‚ + update(entity: T): T             â”‚
â”‚ + delete(id: UUID): bool           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–³
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚UserRepoâ”‚    â”‚ProblemRepoâ”‚ â”‚SubmissionRepoâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           <<interface>>            â”‚
â”‚           IService                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–³
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚UserSvcâ”‚    â”‚ProblemSvcâ”‚  â”‚ JudgeSvc â”‚  â”‚ContestSvcâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚-repo  â”‚    â”‚-repo     â”‚  â”‚-queue    â”‚  â”‚-repo     â”‚
â”‚-cache â”‚    â”‚-search   â”‚  â”‚-sandbox  â”‚  â”‚-judgeSvc â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 å…³é”®æµç¨‹å›¾ (Activity Diagram)

#### ä»£ç æäº¤è¯„åˆ¤æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å§‹   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æäº¤ä»£ç     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     æ˜¯
    â”‚ é¢‘ç‡æ£€æŸ¥   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ (30ç§’é™åˆ¶) â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â–¼
          â”‚ å¦        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚           â”‚ è¿”å›é”™è¯¯  â”‚
          â–¼           â”‚ "æäº¤è¿‡å¿«" â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ ä»£ç é•¿åº¦   â”‚
    â”‚ æ£€æŸ¥(100KB)â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   è¶…é™   â”‚
          â”‚ é€šè¿‡           â–¼
          â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼          â”‚ è¿”å›é”™è¯¯  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ "ä»£ç è¿‡é•¿" â”‚
    â”‚ åˆ›å»ºæäº¤   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ è®°å½•(å¾…è¯„åˆ¤)â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å‘é€åˆ°æ¶ˆæ¯ â”‚
    â”‚ é˜Ÿåˆ—       â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¤±è´¥
    â”‚ ç¼–è¯‘ä»£ç    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
          â”‚ æˆåŠŸ           â–¼
          â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼          â”‚ æ›´æ–°çŠ¶æ€  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ CE(ç¼–è¯‘é”™è¯¯)â”‚
    â”‚ å¾ªç¯æ‰§è¡Œ   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ æµ‹è¯•ç”¨ä¾‹   â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚
     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
     â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¶…æ—¶?   â”‚ â”‚ è¶…å†…å­˜? â”‚
â”‚ TLE     â”‚ â”‚ MLE     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ å¦        â”‚ å¦
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å‡ºæ¯”å¯¹æ­£ç¡®?   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â–¼ å¦      â–¼ æ˜¯
â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚  WA   â”‚  â”‚ ç»§ç»­  â”‚
â”‚ç­”æ¡ˆé”™è¯¯â”‚ â”‚ä¸‹ä¸€ä¸ª â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚æµ‹è¯•ç”¨ä¾‹â”‚
           â””â”€â”€â”€â”¬â”€â”€â”€â”˜
               â”‚
               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ å…¨éƒ¨é€šè¿‡? â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚ æ˜¯
              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”
         â”‚  AC   â”‚
         â”‚ é€šè¿‡  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  ç»“æŸ   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 è®¾è®¡æ¨¡å¼ (Design Patterns)

#### é¡¹ç›®ä¸­ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼

| æ¨¡å— | è®¾è®¡æ¨¡å¼ | ç”¨é€” |
|------|----------|------|
| æ•°æ®è®¿é—®å±‚ | **Repository Pattern** | æŠ½è±¡æ•°æ®è®¿é—®é€»è¾‘ï¼Œè§£è€¦ä¸šåŠ¡å±‚ä¸æ•°æ®å±‚ |
| æœåŠ¡å±‚ | **Service Layer Pattern** | å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œæä¾›ç»Ÿä¸€çš„æœåŠ¡æ¥å£ |
| ä¾èµ–æ³¨å…¥ | **Dependency Injection** | ç®¡ç†ç»„ä»¶ä¾èµ–ï¼Œæé«˜å¯æµ‹è¯•æ€§ |
| API å“åº” | **Builder Pattern** | æ„å»ºå¤æ‚çš„å“åº”å¯¹è±¡ |
| è¯„åˆ¤æœåŠ¡ | **Strategy Pattern** | æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„è¯„åˆ¤ç­–ç•¥ |
| ç¼“å­˜æœåŠ¡ | **Decorator Pattern** | ä¸º Repository æ·»åŠ ç¼“å­˜åŠŸèƒ½ |
| æ¶ˆæ¯å¤„ç† | **Observer Pattern** | å¤„ç†å¼‚æ­¥è¯„åˆ¤ç»“æœé€šçŸ¥ |
| é…ç½®ç®¡ç† | **Singleton Pattern** | ç¡®ä¿é…ç½®å¯¹è±¡å…¨å±€å”¯ä¸€ |
| å¯¹è±¡åˆ›å»º | **Factory Pattern** | åˆ›å»ºä¸åŒç±»å‹çš„è¯„åˆ¤å™¨å®ä¾‹ |

#### ç­–ç•¥æ¨¡å¼ç¤ºä¾‹ (è¯„åˆ¤æœåŠ¡)

```python
from abc import ABC, abstractmethod
from typing import Tuple

class JudgeStrategy(ABC):
    """è¯„åˆ¤ç­–ç•¥æŠ½è±¡åŸºç±»"""
    
    @abstractmethod
    def compile(self, code: str) -> Tuple[bool, str]:
        """ç¼–è¯‘ä»£ç """
        pass
    
    @abstractmethod
    def execute(self, executable: str, input_data: str) -> Tuple[str, int, int]:
        """æ‰§è¡Œä»£ç ï¼Œè¿”å› (è¾“å‡º, æ‰§è¡Œæ—¶é—´ms, å†…å­˜ä½¿ç”¨KB)"""
        pass

class PythonJudgeStrategy(JudgeStrategy):
    """Python è¯„åˆ¤ç­–ç•¥"""
    
    def compile(self, code: str) -> Tuple[bool, str]:
        # Python æ— éœ€ç¼–è¯‘ï¼Œè¿›è¡Œè¯­æ³•æ£€æŸ¥
        try:
            compile(code, '<string>', 'exec')
            return True, ""
        except SyntaxError as e:
            return False, str(e)
    
    def execute(self, code: str, input_data: str) -> Tuple[str, int, int]:
        # åœ¨æ²™ç®±ä¸­æ‰§è¡Œ Python ä»£ç 
        pass

class CppJudgeStrategy(JudgeStrategy):
    """C++ è¯„åˆ¤ç­–ç•¥"""
    
    def compile(self, code: str) -> Tuple[bool, str]:
        # ä½¿ç”¨ g++ ç¼–è¯‘
        pass
    
    def execute(self, executable: str, input_data: str) -> Tuple[str, int, int]:
        # æ‰§è¡Œç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶
        pass

class JudgeStrategyFactory:
    """è¯„åˆ¤ç­–ç•¥å·¥å‚"""
    
    _strategies = {
        'python': PythonJudgeStrategy,
        'cpp': CppJudgeStrategy,
        # å¯æ‰©å±•æ›´å¤šè¯­è¨€
    }
    
    @classmethod
    def create(cls, language: str) -> JudgeStrategy:
        strategy_class = cls._strategies.get(language)
        if not strategy_class:
            raise ValueError(f"ä¸æ”¯æŒçš„è¯­è¨€: {language}")
        return strategy_class()
```

#### è£…é¥°å™¨æ¨¡å¼ç¤ºä¾‹ (ç¼“å­˜)

```python
from functools import wraps
from typing import Callable, Any
import redis

class CacheDecorator:
    """ç¼“å­˜è£…é¥°å™¨"""
    
    def __init__(self, redis_client: redis.Redis, ttl: int = 3600):
        self.redis = redis_client
        self.ttl = ttl
    
    def cache(self, key_prefix: str) -> Callable:
        def decorator(func: Callable) -> Callable:
            @wraps(func)
            async def wrapper(*args, **kwargs) -> Any:
                # ç”Ÿæˆç¼“å­˜é”®
                cache_key = f"{key_prefix}:{args}:{kwargs}"
                
                # å°è¯•ä»ç¼“å­˜è·å–
                cached = self.redis.get(cache_key)
                if cached:
                    return cached
                
                # æ‰§è¡ŒåŸå‡½æ•°
                result = await func(*args, **kwargs)
                
                # å­˜å…¥ç¼“å­˜
                self.redis.setex(cache_key, self.ttl, result)
                
                return result
            return wrapper
        return decorator
```

---

## é™„å½•

### A. ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | å˜æ›´è¯´æ˜ |
|------|------|------|----------|
| 1.0 | 2024 | Team | åˆå§‹ç‰ˆæœ¬ |

### B. å‚è€ƒèµ„æ–™

- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [PostgreSQL å®˜æ–¹æ–‡æ¡£](https://www.postgresql.org/docs/)
- [ç«èµ›ç¼–ç¨‹åœ¨çº¿è¯„åˆ¤ç³»ç»Ÿè®¾è®¡](https://codeforces.com/)

---

*æ–‡æ¡£æœ€åæ›´æ–°: 2024*
